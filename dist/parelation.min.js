(function(){var t,e,n,o,r,i,u,s,c={}.hasOwnProperty,p=function(t,e){function n(){this.constructor=t}for(var o in e)c.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};r=function(){function t(){}return t.prototype.select=function(t){return new i(this,t)},t.prototype.where=function(t){return new u(this,t)},t.prototype.where_gt=function(t){return new u(this,t,"gt")},t.prototype.where_lt=function(t){return new u(this,t,"lt")},t.prototype.where_gte=function(t){return new u(this,t,"gte")},t.prototype.where_lte=function(t){return new u(this,t,"lte")},t.prototype.limit=function(t){return new e(this,t)},t.prototype.offset=function(t){return new n(this,t)},t.prototype.order=function(t){return new o(this,t)},t}(),t=function(t){function e(t){this.url=t}return p(e,t),e.prototype.fetch=function(t){return $.get(this.url,t)},e}(r),i=function(t){function e(t,e){this.scope=t,this.columns=e}return p(e,t),e.prototype.fetch=function(t){return this.scope.fetch($.extend(t,{"select[]":this.columns}))},e}(r),e=function(t){function e(t,e){this.scope=t,this.number=e}return p(e,t),e.prototype.fetch=function(t){return this.scope.fetch($.extend(t,{limit:this.number}))},e}(r),n=function(t){function e(t,e){this.scope=t,this.number=e}return p(e,t),e.prototype.fetch=function(t){return this.scope.fetch($.extend(t,{offset:this.number}))},e}(r),o=function(t){function e(t,e){this.scope=t,this.options=e}return p(e,t),e.prototype.fetch=function(t){var e;return e=$.map(Object.keys(this.options),function(t){return function(e){return""+e+":"+t.options[e]}}(this)),this.scope.fetch($.extend(t,{"order[]":e}))},e}(r),u=function(t){function e(t,e,n){this.scope=t,this.options=e,this.where=n?"where_"+n:"where"}return p(e,t),e.prototype.fetch=function(t){var e,n,o,r,i;for(n={},i=Object.keys(this.options),o=0,r=i.length;r>o;o++)e=i[o],n[""+this.where+"["+e+"]"]=this.options[e];return this.scope.fetch($.extend(t,n))},e}(r),s="undefined"!=typeof exports&&null!==exports?exports:this,s.Parelation={at:function(e){return new t(e)}}}).call(this);